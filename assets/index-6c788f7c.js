(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();let m=[{id:0,name:"肥宅心碎賞櫻3日",imgUrl:"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80",area:"高雄",description:"賞櫻花最佳去處。肥宅不得不去的超讚景點！",group:87,price:1400,rate:10},{id:1,name:"貓空纜車雙程票",imgUrl:"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台北",description:"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感",group:99,price:240,rate:2},{id:2,name:"台中谷關溫泉會1日",imgUrl:"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台中",description:"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。",group:20,price:1765,rate:7}],y=document.querySelector(".ticketCard");const b=document.querySelector(".searchResult");function u(e="全部地區"){const r=e==="全部地區"?m:m.filter(n=>n.area===e);b.textContent=r.length?`本次搜尋共 ${r.length} 筆資料`:"查無此關鍵字資料";let s="";r.forEach(function(n,t){s+=`<li class="col-4 mb-9">
      <div class="card border-0 shadow position-relative">
        <span class="tag-l position-absolute top-0 start-0 translate-middle-y bg-secondary fs-5 fw-normal text-white">${n.area}</span>
        <img src="${n.imgUrl}" class="card-img-top mb-1" alt="travel_1" style="height: 180px;">
        <span class="tag-m position-absolute bg-primary fw-normal text-white">${n.rate}</span>
        <div class="d-flex flex-column p-4" style="height: 296px;">
          <h3 class="card-title fs-4 fw-medium text-primary pb-1 border-bottom border-2 border-primary">${n.name}</h3>
          <p class="fw-normal text-info flex-grow-1">${n.description}</p>
          <div class="d-flex justify-content-between">
            <div class="d-flex align-items-center">
              <span class="material-symbols-outlined fs-5 text-primary me-1">
                info
              </span>
              <p class="fw-medium text-primary mb-0">剩下最後 ${n.group} 組</p>
            </div>
            <div class="d-flex align-items-center">
              <span class="fw-medium text-primary me-1">TWD</span>
              <p class="display-8 fw-medium text-primary mb-0">${n.price}</p>
            </div>
          </div>
        </div>
      </div>
    </li>`}),y.innerHTML=s}u();const v=document.querySelector("#regionSearch");v.addEventListener("change",function(e){u(e.target.value)});const L=document.querySelector(".addTicket"),f=document.querySelector("#ticketName"),o=document.querySelector("#imgUrl"),g=document.querySelector("#sightSpot"),l=document.querySelector("#ticketPrice"),c=document.querySelector("#ticketNum"),d=document.querySelector("#ticketRate"),i=document.querySelector("#ticketDescription");L.addEventListener("click",function(e){let r=m.length,s={};if(s.id=r++,s.name=f.value.trim(),s.imgUrl=o.value.trim(),s.area=g.value.trim(),s.description=i.value.trim(),s.group=Number(c.value.trim()),s.price=Number(l.value.trim()),s.rate=Number(d.value.trim()),Object.values(s).includes(""))alert("每個欄位都為必填！");else{m.push(s);const n=document.querySelector(".addTicketForm");v.value="全部地區",u("全部地區"),n.reset()}u()});f.addEventListener("blur",function(){const e=document.getElementById("ticketName-message");f.value.trim()?e.classList.add("d-none"):(e.classList.remove("d-none"),e.innerHTML=`<span class="material-symbols-outlined me-1">error
    </span><span>必填！</span>`)});o.addEventListener("blur",function(){const e=document.getElementById("imgUrl-message");/^(https?:\/\/)?([\w.-]+\.[a-z]{2,})(\/\S*)?$/i.test(o.value)?e.classList.add("d-none"):o.value.trim()===""?(e.value="",e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>'):(e.value="",e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>請輸入正確網址</span>')});g.addEventListener("blur",function(){const e=document.getElementById("sightSpot-message");g.value?e.classList.add("d-none"):(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>')});l.addEventListener("blur",function(){const e=document.getElementById("ticketPrice-message");/^[1-9]\d*$/.test(l.value)?e.classList.add("d-none"):l.value===""?(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>'):(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>金額需為正整數！</span>')});c.addEventListener("blur",function(){const e=document.getElementById("ticketNum-message");/^[1-9]\d*$/.test(c.value)?e.classList.add("d-none"):c.value===""?(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>'):(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>組數需為正整數！</span>')});d.addEventListener("blur",function(){const e=document.getElementById("ticketRate-message");/^[1-9]\d*$/.test(d.value)?e.classList.add("d-none"):d.value===""?(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>'):(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>請輸入1-10星級整數！</span>')});i.addEventListener("keyup",function(){const e=document.getElementById("ticketDescription-message");/^.{1-100}$/.test(i.value.trim())?e.classList.add("d-none"):i.value.trim()===""?(e.classList.remove("d-none"),e.innerHTML='<span class="material-symbols-outlined me-1">error</span><span>必填！</span>'):(e.classList.remove("d-none"),e.innerHTML=`<span class="material-symbols-outlined me-1">error</span><span>目前可填寫字數${100-i.value.trim().length}個字</span>`)});
